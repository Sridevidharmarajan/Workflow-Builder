{"ast":null,"code":"var _jsxFileName = \"D:\\\\App\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport WorkflowCanvas from './components/WorkflowCanvas';\nimport AddNodeMenu from './components/AddNodeMenu';\nimport './App.css';\n\n// Node Types\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NODE_TYPES = {\n  START: 'start',\n  ACTION: 'action',\n  BRANCH: 'branch',\n  END: 'end'\n};\n\n// Initial workflow data\nconst initialWorkflow = {\n  nodes: {\n    'start': {\n      id: 'start',\n      type: NODE_TYPES.START,\n      label: 'Start',\n      children: []\n    }\n  },\n  rootId: 'start'\n};\nfunction App() {\n  _s();\n  const [workflow, setWorkflow] = useState(initialWorkflow);\n  const [showAddMenu, setShowAddMenu] = useState(null);\n  const [editingNode, setEditingNode] = useState(null);\n\n  // Generate unique ID\n  const generateId = () => `node_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n\n  // Utility function to validate node rules\n  const validateNodeAddition = useCallback((parentId, nodeType, branchName = null) => {\n    const parent = workflow.nodes[parentId];\n    if (!parent) {\n      return {\n        valid: false,\n        message: 'Parent node not found'\n      };\n    }\n\n    // End nodes cannot have any children\n    if (parent.type === NODE_TYPES.END) {\n      return {\n        valid: false,\n        message: 'End nodes cannot have any children'\n      };\n    }\n\n    // Action nodes can have only one child\n    if (parent.type === NODE_TYPES.ACTION && parent.children.length > 0 && !branchName) {\n      return {\n        valid: false,\n        message: 'Action nodes can have only one child'\n      };\n    }\n\n    // Branch nodes require adding to a specific branch\n    if (parent.type === NODE_TYPES.BRANCH && !branchName) {\n      return {\n        valid: false,\n        message: 'Branch nodes require adding to a specific branch (true/false)'\n      };\n    }\n    return {\n      valid: true,\n      message: ''\n    };\n  }, [workflow.nodes]);\n\n  // Add new node with strict validation\n  const addNode = useCallback((parentId, nodeType, branchName = null, position = 0) => {\n    const validation = validateNodeAddition(parentId, nodeType, branchName);\n    if (!validation.valid) {\n      alert(validation.message);\n      return;\n    }\n    const newNodeId = generateId();\n    const newNode = {\n      id: newNodeId,\n      type: nodeType,\n      label: nodeType === NODE_TYPES.ACTION ? 'New Action' : nodeType === NODE_TYPES.BRANCH ? 'New Condition' : nodeType === NODE_TYPES.END ? 'End' : 'Node',\n      children: nodeType !== NODE_TYPES.BRANCH ? [] : [],\n      branches: nodeType === NODE_TYPES.BRANCH ? {\n        'true': null,\n        'false': null\n      } : null\n    };\n    setWorkflow(prev => {\n      const newWorkflow = {\n        ...prev\n      };\n      const parent = {\n        ...newWorkflow.nodes[parentId]\n      };\n      if (parent.type === NODE_TYPES.BRANCH && branchName) {\n        // Add to specific branch\n        parent.branches = {\n          ...parent.branches\n        };\n        parent.branches[branchName] = newNodeId;\n      } else {\n        // Add to children array\n        parent.children = [...parent.children];\n        parent.children.splice(position, 0, newNodeId);\n      }\n      newWorkflow.nodes = {\n        ...newWorkflow.nodes\n      };\n      newWorkflow.nodes[parentId] = parent;\n      newWorkflow.nodes[newNodeId] = newNode;\n      return newWorkflow;\n    });\n    setShowAddMenu(null);\n  }, [validateNodeAddition]);\n\n  // Delete node with enhanced continuity logic\n  const deleteNode = useCallback(nodeId => {\n    if (nodeId === 'start') {\n      alert('Start node cannot be deleted');\n      return;\n    }\n    setWorkflow(prev => {\n      const newWorkflow = {\n        ...prev\n      };\n      const nodeToDelete = newWorkflow.nodes[nodeId];\n      if (!nodeToDelete) return prev;\n\n      // Find all parents that reference this node\n      const parentEntries = Object.entries(newWorkflow.nodes).filter(([id, node]) => {\n        if (node.type === NODE_TYPES.BRANCH) {\n          return Object.values(node.branches || {}).includes(nodeId);\n        }\n        return node.children.includes(nodeId);\n      });\n\n      // Update each parent to maintain workflow continuity\n      parentEntries.forEach(([parentId, parent]) => {\n        const updatedParent = {\n          ...parent\n        };\n        if (parent.type === NODE_TYPES.BRANCH) {\n          // For branch nodes, reconnect to the deleted node's children\n          updatedParent.branches = {\n            ...updatedParent.branches\n          };\n          const branchName = Object.keys(updatedParent.branches).find(key => updatedParent.branches[key] === nodeId);\n          if (branchName) {\n            // Connect branch to the first child of deleted node, or null if no children\n            updatedParent.branches[branchName] = nodeToDelete.children[0] || null;\n          }\n        } else {\n          // For action/start nodes, replace deleted node with its children\n          const index = updatedParent.children.indexOf(nodeId);\n          if (index > -1) {\n            updatedParent.children = [...updatedParent.children];\n            // Remove the deleted node and insert all its children\n            updatedParent.children.splice(index, 1, ...nodeToDelete.children);\n          }\n        }\n        newWorkflow.nodes[parentId] = updatedParent;\n      });\n\n      // Remove the deleted node\n      const {\n        [nodeId]: removed,\n        ...remainingNodes\n      } = newWorkflow.nodes;\n      newWorkflow.nodes = remainingNodes;\n      return newWorkflow;\n    });\n  }, []);\n\n  // Edit node label\n  const editNode = useCallback((nodeId, newLabel) => {\n    setWorkflow(prev => {\n      const newWorkflow = {\n        ...prev\n      };\n      const node = {\n        ...newWorkflow.nodes[nodeId]\n      };\n      node.label = newLabel;\n      newWorkflow.nodes = {\n        ...newWorkflow.nodes\n      };\n      newWorkflow.nodes[nodeId] = node;\n      return newWorkflow;\n    });\n    setEditingNode(null);\n  }, []);\n\n  // Save workflow to console with validation\n  const saveWorkflow = useCallback(() => {\n    // Validate workflow before saving\n    const validation = validateWorkflowIntegrity();\n    if (!validation.valid) {\n      alert(`Workflow validation failed: ${validation.message}`);\n      return;\n    }\n    const workflowData = {\n      ...workflow,\n      metadata: {\n        nodeCount: Object.keys(workflow.nodes).length,\n        maxDepth: calculateWorkflowDepth(),\n        hasBranches: Object.values(workflow.nodes).some(node => node.type === NODE_TYPES.BRANCH),\n        hasEndNodes: Object.values(workflow.nodes).some(node => node.type === NODE_TYPES.END),\n        savedAt: new Date().toISOString()\n      }\n    };\n    console.log('=== WORKFLOW DATA STRUCTURE ===');\n    console.log(JSON.stringify(workflowData, null, 2));\n    console.log('=== WORKFLOW SUMMARY ===');\n    console.log(`Total Nodes: ${workflowData.metadata.nodeCount}`);\n    console.log(`Max Depth: ${workflowData.metadata.maxDepth}`);\n    console.log(`Has Branches: ${workflowData.metadata.hasBranches}`);\n    console.log(`Has End Nodes: ${workflowData.metadata.hasEndNodes}`);\n    alert('Workflow data logged to console! Check browser dev tools (F12).');\n  }, [workflow]);\n\n  // Validate workflow integrity\n  const validateWorkflowIntegrity = useCallback(() => {\n    const nodes = workflow.nodes;\n    const rootId = workflow.rootId;\n\n    // Check if root exists\n    if (!nodes[rootId]) {\n      return {\n        valid: false,\n        message: 'Root node not found'\n      };\n    }\n\n    // Check for orphaned nodes\n    const referencedNodes = new Set([rootId]);\n    Object.values(nodes).forEach(node => {\n      if (node.children) {\n        node.children.forEach(childId => referencedNodes.add(childId));\n      }\n      if (node.branches) {\n        Object.values(node.branches).forEach(childId => {\n          if (childId) referencedNodes.add(childId);\n        });\n      }\n    });\n    const allNodeIds = new Set(Object.keys(nodes));\n    const orphanedNodes = [...allNodeIds].filter(id => !referencedNodes.has(id));\n    if (orphanedNodes.length > 0) {\n      return {\n        valid: false,\n        message: `Orphaned nodes found: ${orphanedNodes.join(', ')}`\n      };\n    }\n\n    // Validate node-specific rules\n    for (const [nodeId, node] of Object.entries(nodes)) {\n      // End nodes should have no children\n      if (node.type === NODE_TYPES.END) {\n        if (node.children && node.children.length > 0 || node.branches && Object.values(node.branches).some(v => v !== null)) {\n          return {\n            valid: false,\n            message: `End node '${nodeId}' has children`\n          };\n        }\n      }\n\n      // Action nodes should have at most one child\n      if (node.type === NODE_TYPES.ACTION && node.children && node.children.length > 1) {\n        return {\n          valid: false,\n          message: `Action node '${nodeId}' has multiple children`\n        };\n      }\n    }\n    return {\n      valid: true,\n      message: 'Workflow is valid'\n    };\n  }, [workflow]);\n\n  // Calculate workflow depth\n  const calculateWorkflowDepth = useCallback(() => {\n    const calculateDepth = (nodeId, currentDepth = 0) => {\n      const node = workflow.nodes[nodeId];\n      if (!node) return currentDepth;\n      if (node.type === NODE_TYPES.BRANCH) {\n        const branchDepths = Object.values(node.branches || {}).filter(childId => childId !== null).map(childId => calculateDepth(childId, currentDepth + 1));\n        return Math.max(0, ...branchDepths, currentDepth);\n      }\n      if (node.children && node.children.length > 0) {\n        const childDepths = node.children.map(childId => calculateDepth(childId, currentDepth + 1));\n        return Math.max(...childDepths);\n      }\n      return currentDepth;\n    };\n    return calculateDepth(workflow.rootId);\n  }, [workflow]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Workflow Builder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"save-btn\",\n        onClick: saveWorkflow,\n        children: \"\\uD83D\\uDCBE Save Workflow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(WorkflowCanvas, {\n      workflow: workflow,\n      onAddNode: setShowAddMenu,\n      onDeleteNode: deleteNode,\n      onEditNode: setEditingNode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), showAddMenu && /*#__PURE__*/_jsxDEV(AddNodeMenu, {\n      parentId: showAddMenu.parentId,\n      branchName: showAddMenu.branchName,\n      position: showAddMenu.position,\n      onAddNode: addNode,\n      onClose: () => setShowAddMenu(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 9\n    }, this), editingNode && /*#__PURE__*/_jsxDEV(EditNodeModal, {\n      nodeId: editingNode,\n      currentNode: workflow.nodes[editingNode],\n      onEditNode: editNode,\n      onClose: () => setEditingNode(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 5\n  }, this);\n}\n\n// Edit Node Modal Component\n_s(App, \"JvPnG4oYRJSQ9bc454eBiQIzJnw=\");\n_c = App;\nfunction EditNodeModal({\n  nodeId,\n  currentNode,\n  onEditNode,\n  onClose\n}) {\n  _s2();\n  const [label, setLabel] = useState(currentNode.label);\n  const handleSubmit = e => {\n    e.preventDefault();\n    onEditNode(nodeId, label);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Edit Node\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: label,\n          onChange: e => setLabel(e.target.value),\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onClose,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 329,\n    columnNumber: 5\n  }, this);\n}\n_s2(EditNodeModal, \"VJTg2xLfsNpBf/U/rdJT49zy6PE=\");\n_c2 = EditNodeModal;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"EditNodeModal\");","map":{"version":3,"names":["React","useState","useCallback","WorkflowCanvas","AddNodeMenu","jsxDEV","_jsxDEV","NODE_TYPES","START","ACTION","BRANCH","END","initialWorkflow","nodes","id","type","label","children","rootId","App","_s","workflow","setWorkflow","showAddMenu","setShowAddMenu","editingNode","setEditingNode","generateId","Date","now","Math","random","toString","substr","validateNodeAddition","parentId","nodeType","branchName","parent","valid","message","length","addNode","position","validation","alert","newNodeId","newNode","branches","prev","newWorkflow","splice","deleteNode","nodeId","nodeToDelete","parentEntries","Object","entries","filter","node","values","includes","forEach","updatedParent","keys","find","key","index","indexOf","removed","remainingNodes","editNode","newLabel","saveWorkflow","validateWorkflowIntegrity","workflowData","metadata","nodeCount","maxDepth","calculateWorkflowDepth","hasBranches","some","hasEndNodes","savedAt","toISOString","console","log","JSON","stringify","referencedNodes","Set","childId","add","allNodeIds","orphanedNodes","has","join","v","calculateDepth","currentDepth","branchDepths","map","max","childDepths","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onAddNode","onDeleteNode","onEditNode","onClose","EditNodeModal","currentNode","_c","_s2","setLabel","handleSubmit","e","preventDefault","onSubmit","value","onChange","target","autoFocus","_c2","$RefreshReg$"],"sources":["D:/App/src/App.jsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport WorkflowCanvas from './components/WorkflowCanvas';\nimport AddNodeMenu from './components/AddNodeMenu';\nimport './App.css';\n\n// Node Types\nconst NODE_TYPES = {\n  START: 'start',\n  ACTION: 'action',\n  BRANCH: 'branch',\n  END: 'end'\n};\n\n// Initial workflow data\nconst initialWorkflow = {\n  nodes: {\n    'start': {\n      id: 'start',\n      type: NODE_TYPES.START,\n      label: 'Start',\n      children: []\n    }\n  },\n  rootId: 'start'\n};\n\nfunction App() {\n  const [workflow, setWorkflow] = useState(initialWorkflow);\n  const [showAddMenu, setShowAddMenu] = useState(null);\n  const [editingNode, setEditingNode] = useState(null);\n\n  // Generate unique ID\n  const generateId = () => `node_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n\n  // Utility function to validate node rules\n  const validateNodeAddition = useCallback((parentId, nodeType, branchName = null) => {\n    const parent = workflow.nodes[parentId];\n    \n    if (!parent) {\n      return { valid: false, message: 'Parent node not found' };\n    }\n    \n    // End nodes cannot have any children\n    if (parent.type === NODE_TYPES.END) {\n      return { valid: false, message: 'End nodes cannot have any children' };\n    }\n    \n    // Action nodes can have only one child\n    if (parent.type === NODE_TYPES.ACTION && parent.children.length > 0 && !branchName) {\n      return { valid: false, message: 'Action nodes can have only one child' };\n    }\n    \n    // Branch nodes require adding to a specific branch\n    if (parent.type === NODE_TYPES.BRANCH && !branchName) {\n      return { valid: false, message: 'Branch nodes require adding to a specific branch (true/false)' };\n    }\n    \n    return { valid: true, message: '' };\n  }, [workflow.nodes]);\n\n  // Add new node with strict validation\n  const addNode = useCallback((parentId, nodeType, branchName = null, position = 0) => {\n    const validation = validateNodeAddition(parentId, nodeType, branchName);\n    \n    if (!validation.valid) {\n      alert(validation.message);\n      return;\n    }\n    \n    const newNodeId = generateId();\n    const newNode = {\n      id: newNodeId,\n      type: nodeType,\n      label: nodeType === NODE_TYPES.ACTION ? 'New Action' : \n             nodeType === NODE_TYPES.BRANCH ? 'New Condition' : \n             nodeType === NODE_TYPES.END ? 'End' : 'Node',\n      children: nodeType !== NODE_TYPES.BRANCH ? [] : [],\n      branches: nodeType === NODE_TYPES.BRANCH ? {\n        'true': null,\n        'false': null\n      } : null\n    };\n\n    setWorkflow(prev => {\n      const newWorkflow = { ...prev };\n      const parent = { ...newWorkflow.nodes[parentId] };\n      \n      if (parent.type === NODE_TYPES.BRANCH && branchName) {\n        // Add to specific branch\n        parent.branches = { ...parent.branches };\n        parent.branches[branchName] = newNodeId;\n      } else {\n        // Add to children array\n        parent.children = [...parent.children];\n        parent.children.splice(position, 0, newNodeId);\n      }\n      \n      newWorkflow.nodes = { ...newWorkflow.nodes };\n      newWorkflow.nodes[parentId] = parent;\n      newWorkflow.nodes[newNodeId] = newNode;\n      \n      return newWorkflow;\n    });\n    \n    setShowAddMenu(null);\n  }, [validateNodeAddition]);\n\n  // Delete node with enhanced continuity logic\n  const deleteNode = useCallback((nodeId) => {\n    if (nodeId === 'start') {\n      alert('Start node cannot be deleted');\n      return;\n    }\n    \n    setWorkflow(prev => {\n      const newWorkflow = { ...prev };\n      const nodeToDelete = newWorkflow.nodes[nodeId];\n      \n      if (!nodeToDelete) return prev;\n      \n      // Find all parents that reference this node\n      const parentEntries = Object.entries(newWorkflow.nodes).filter(([id, node]) => {\n        if (node.type === NODE_TYPES.BRANCH) {\n          return Object.values(node.branches || {}).includes(nodeId);\n        }\n        return node.children.includes(nodeId);\n      });\n      \n      // Update each parent to maintain workflow continuity\n      parentEntries.forEach(([parentId, parent]) => {\n        const updatedParent = { ...parent };\n        \n        if (parent.type === NODE_TYPES.BRANCH) {\n          // For branch nodes, reconnect to the deleted node's children\n          updatedParent.branches = { ...updatedParent.branches };\n          const branchName = Object.keys(updatedParent.branches).find(\n            key => updatedParent.branches[key] === nodeId\n          );\n          if (branchName) {\n            // Connect branch to the first child of deleted node, or null if no children\n            updatedParent.branches[branchName] = nodeToDelete.children[0] || null;\n          }\n        } else {\n          // For action/start nodes, replace deleted node with its children\n          const index = updatedParent.children.indexOf(nodeId);\n          if (index > -1) {\n            updatedParent.children = [...updatedParent.children];\n            // Remove the deleted node and insert all its children\n            updatedParent.children.splice(index, 1, ...nodeToDelete.children);\n          }\n        }\n        \n        newWorkflow.nodes[parentId] = updatedParent;\n      });\n      \n      // Remove the deleted node\n      const { [nodeId]: removed, ...remainingNodes } = newWorkflow.nodes;\n      newWorkflow.nodes = remainingNodes;\n      \n      return newWorkflow;\n    });\n  }, []);\n\n  // Edit node label\n  const editNode = useCallback((nodeId, newLabel) => {\n    setWorkflow(prev => {\n      const newWorkflow = { ...prev };\n      const node = { ...newWorkflow.nodes[nodeId] };\n      node.label = newLabel;\n      newWorkflow.nodes = { ...newWorkflow.nodes };\n      newWorkflow.nodes[nodeId] = node;\n      return newWorkflow;\n    });\n    setEditingNode(null);\n  }, []);\n\n  // Save workflow to console with validation\n  const saveWorkflow = useCallback(() => {\n    // Validate workflow before saving\n    const validation = validateWorkflowIntegrity();\n    \n    if (!validation.valid) {\n      alert(`Workflow validation failed: ${validation.message}`);\n      return;\n    }\n    \n    const workflowData = {\n      ...workflow,\n      metadata: {\n        nodeCount: Object.keys(workflow.nodes).length,\n        maxDepth: calculateWorkflowDepth(),\n        hasBranches: Object.values(workflow.nodes).some(node => node.type === NODE_TYPES.BRANCH),\n        hasEndNodes: Object.values(workflow.nodes).some(node => node.type === NODE_TYPES.END),\n        savedAt: new Date().toISOString()\n      }\n    };\n    \n    console.log('=== WORKFLOW DATA STRUCTURE ===');\n    console.log(JSON.stringify(workflowData, null, 2));\n    console.log('=== WORKFLOW SUMMARY ===');\n    console.log(`Total Nodes: ${workflowData.metadata.nodeCount}`);\n    console.log(`Max Depth: ${workflowData.metadata.maxDepth}`);\n    console.log(`Has Branches: ${workflowData.metadata.hasBranches}`);\n    console.log(`Has End Nodes: ${workflowData.metadata.hasEndNodes}`);\n    \n    alert('Workflow data logged to console! Check browser dev tools (F12).');\n  }, [workflow]);\n\n  // Validate workflow integrity\n  const validateWorkflowIntegrity = useCallback(() => {\n    const nodes = workflow.nodes;\n    const rootId = workflow.rootId;\n    \n    // Check if root exists\n    if (!nodes[rootId]) {\n      return { valid: false, message: 'Root node not found' };\n    }\n    \n    // Check for orphaned nodes\n    const referencedNodes = new Set([rootId]);\n    Object.values(nodes).forEach(node => {\n      if (node.children) {\n        node.children.forEach(childId => referencedNodes.add(childId));\n      }\n      if (node.branches) {\n        Object.values(node.branches).forEach(childId => {\n          if (childId) referencedNodes.add(childId);\n        });\n      }\n    });\n    \n    const allNodeIds = new Set(Object.keys(nodes));\n    const orphanedNodes = [...allNodeIds].filter(id => !referencedNodes.has(id));\n    \n    if (orphanedNodes.length > 0) {\n      return { valid: false, message: `Orphaned nodes found: ${orphanedNodes.join(', ')}` };\n    }\n    \n    // Validate node-specific rules\n    for (const [nodeId, node] of Object.entries(nodes)) {\n      // End nodes should have no children\n      if (node.type === NODE_TYPES.END) {\n        if ((node.children && node.children.length > 0) || \n            (node.branches && Object.values(node.branches).some(v => v !== null))) {\n          return { valid: false, message: `End node '${nodeId}' has children` };\n        }\n      }\n      \n      // Action nodes should have at most one child\n      if (node.type === NODE_TYPES.ACTION && node.children && node.children.length > 1) {\n        return { valid: false, message: `Action node '${nodeId}' has multiple children` };\n      }\n    }\n    \n    return { valid: true, message: 'Workflow is valid' };\n  }, [workflow]);\n\n  // Calculate workflow depth\n  const calculateWorkflowDepth = useCallback(() => {\n    const calculateDepth = (nodeId, currentDepth = 0) => {\n      const node = workflow.nodes[nodeId];\n      if (!node) return currentDepth;\n      \n      if (node.type === NODE_TYPES.BRANCH) {\n        const branchDepths = Object.values(node.branches || {})\n          .filter(childId => childId !== null)\n          .map(childId => calculateDepth(childId, currentDepth + 1));\n        return Math.max(0, ...branchDepths, currentDepth);\n      }\n      \n      if (node.children && node.children.length > 0) {\n        const childDepths = node.children.map(childId => calculateDepth(childId, currentDepth + 1));\n        return Math.max(...childDepths);\n      }\n      \n      return currentDepth;\n    };\n    \n    return calculateDepth(workflow.rootId);\n  }, [workflow]);\n\n  return (\n    <div className=\"App\">\n      <div className=\"app-header\">\n        <h1>Workflow Builder</h1>\n        <button className=\"save-btn\" onClick={saveWorkflow}>\n          ðŸ’¾ Save Workflow\n        </button>\n      </div>\n      <WorkflowCanvas \n        workflow={workflow}\n        onAddNode={setShowAddMenu}\n        onDeleteNode={deleteNode}\n        onEditNode={setEditingNode}\n      />\n      \n      {showAddMenu && (\n        <AddNodeMenu \n          parentId={showAddMenu.parentId}\n          branchName={showAddMenu.branchName}\n          position={showAddMenu.position}\n          onAddNode={addNode}\n          onClose={() => setShowAddMenu(null)}\n        />\n      )}\n      \n      {editingNode && (\n        <EditNodeModal \n          nodeId={editingNode}\n          currentNode={workflow.nodes[editingNode]}\n          onEditNode={editNode}\n          onClose={() => setEditingNode(null)}\n        />\n      )}\n    </div>\n  );\n}\n\n// Edit Node Modal Component\nfunction EditNodeModal({ nodeId, currentNode, onEditNode, onClose }) {\n  const [label, setLabel] = useState(currentNode.label);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onEditNode(nodeId, label);\n  };\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal\">\n        <h3>Edit Node</h3>\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            value={label}\n            onChange={(e) => setLabel(e.target.value)}\n            autoFocus\n          />\n          <div className=\"modal-buttons\">\n            <button type=\"submit\">Save</button>\n            <button type=\"button\" onClick={onClose}>Cancel</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}